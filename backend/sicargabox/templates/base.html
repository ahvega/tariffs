<!DOCTYPE html> {% load static %}
<html lang="es" data-theme="coffee" style="scroll-padding-top: 5rem; scroll-behavior: smooth;">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>{% block title %}SICARGA Box{% endblock %}</title>
    <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.4.19/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" type="image/x-icon" href="{% static 'favicon.ico' %}"> {% block extra_head %}{% endblock %}
    <style>
         :root {
            --content-padding-top: 1rem;
            /* Reducir el espacio al inicio */
        }
        
        main.content {
            padding-top: var(--content-padding-top);
        }
        
        @media (max-width: 768px) {
             :root {
                --content-padding-top: 0.5rem;
            }
        }
    </style>
    <script>
        try {
            let theme = localStorage.getItem("theme");
            if (theme) {
                document.documentElement.setAttribute("data-theme", theme);
            }
        } catch (e) {}
    </script>
</head>

<body class="bg-background text-foreground font-sans leading-normal tracking-normal">

    <!-- Barra de navegación simplificada -->
    <div class="navbar sticky top-0 z-20 h-16 shadow-md bg-base-100">
        <div class="navbar-start">
            <div class="dropdown">
                <div tabindex="0" role="button" aria-label="Menú" class="btn btn-ghost btn-circle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white" fill="white" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M4 6h16M4 12h16M4 18h7"></path>
                </svg>
                </div>
            </div>
        </div>
        <div class="navbar-center">
            <a class="btn btn-ghost text-l dark:text-white">SicargaBOX</a>
        </div>
        <div class="navbar-end text-white">
            <div title="Cambiar Tema" class="dropdown dropdown-end hidden [@supports(color:oklch(0%_0_0))]:block ">
                <div tabindex="0" role="button" class="btn btn-ghost">
                    <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="h-5 w-5 stroke-current md:hidden">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"></path>
                    </svg>
                    <span class="hidden font-normal md:inline">Tema</span>
                    <svg width="12px" height="12px" class="hidden h-2 w-2 fill-current opacity-60 sm:inline-block" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2048 2048">
                        <path d="M1799 349l242 241-1017 1017L7 590l242-241 775 775 775-775z"></path>
                    </svg>
                </div>
                <div tabindex="0" class="dropdown-content bg-base-200 text-base-content rounded-box top-px h-[28.6rem] max-h-[calc(100vh-10rem)] w-56 overflow-y-auto border border-white/5 shadow-2xl outline outline-1 outline-black/5 mt-16">
                    <div class="grid grid-cols-1 gap-3 p-3">
                        <button class="outline-base-content text-start outline-offset-4" data-set-theme="light" data-act-class="[&amp;_svg]:visible"><span data-theme="light"
                                                                         class="bg-base-100 rounded-btn text-base-content block w-full cursor-pointer font-sans"><span
                                class="grid grid-cols-5 grid-rows-3"><span
                                class="col-span-5 row-span-3 row-start-1 flex items-center gap-2 px-4 py-3"><svg
                                xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                fill="currentColor" class="invisible h-3 w-3 shrink-0"><path
                                d="M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z"></path></svg> <span
                                class="flex-grow text-sm">light</span> <span
                                class="flex h-full shrink-0 flex-wrap gap-1"><span
                                class="bg-primary rounded-badge w-2"></span> <span
                                class="bg-secondary rounded-badge w-2"></span> <span
                                class="bg-accent rounded-badge w-2"></span> <span
                                class="bg-neutral rounded-badge w-2"></span></span></span></span></button>
                    </div>
                </div>
            </div>
            {% if user.is_authenticated %}
            <div class="dropdown dropdown-end ml-2">
                <div tabindex="0" role="button" class="btn btn-ghost btn-circle avatar">
                    <div class="w-10 rounded-full bg-base-300 flex items-center justify-center">
                        {% if user.first_name %}
                        <span class="text-lg font-bold">{{ user.first_name|first|upper }}{{ user.last_name|first|upper }}</span> {% else %}
                        <span class="text-lg font-bold">{{ user.username|first|upper }}</span> {% endif %}
                    </div>
                </div>
                <ul tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52">
                    <li><a href="{% url 'admin:index' %}">Administración</a></li>
                    <li><a href="{% url 'logout' %}">Cerrar sesión</a></li>
                </ul>
            </div>
            {% else %}
            <a href="{% url 'login' %}" class="btn btn-ghost">Ingresar</a> {% endif %}
        </div>
    </div>

    <!-- Contenido principal -->
    <main class="content container mx-auto px-4">
        {% block content %}{% endblock %}
    </main>

    <!-- Scripts -->
    <script src="{% static 'theme.js' %}"></script>
    {% block extra_js %}{% endblock %}
</body>

</html>